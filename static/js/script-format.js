let openFormButton=document.querySelector(".contacts-button"),loginPopup=document.querySelector(".modal-write-us"),closeFormButton=loginPopup.querySelector(".modal-closing-button"),formForm=loginPopup.querySelector(".contact-form"),nameInput=loginPopup.querySelector(".name-input"),emailInput=loginPopup.querySelector(".email-input"),openMapButton=document.querySelector(".contacts-img"),mapPopup=document.querySelector(".modal-map"),closeMapButton=mapPopup.querySelector(".modal-closing-button"),isStorageSupport=!0,storage="",emailStorage="";try{storage=localStorage.getItem("name"),emailStorage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}openFormButton.addEventListener("click",function(e){e.preventDefault(),loginPopup.classList.add("modal--show"),nameInput.focus(),storage?(nameInput.value=storage,emailInput.focus()):emailStorage&&(emailInput.value=emailStorage,nameInput.focus())}),closeFormButton.addEventListener("click",function(e){e.preventDefault(),loginPopup.classList.remove("modal--show")}),formForm.addEventListener("submit",function(e){nameInput.value&&emailInput.value?isStorageSupport&&(localStorage.setItem("name",nameInput.value),localStorage.setItem("email",emailInput.value)):(e.preventDefault(),loginPopup.classList.remove("modal-error"),loginPopup.offsetWidth=loginPopup.offsetWidth,loginPopup.classList.add("modal-error"))}),openMapButton.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal--show")}),closeMapButton.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal--show"),loginPopup.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&loginPopup.classList.contains("modal--show")&&(e.preventDefault(),loginPopup.classList.remove("modal--show"),loginPopup.classList.remove("modal-error"))});let goodMessagePopup=document.querySelector(".modal-good-message"),goodsList=document.querySelector(".popular-goods-list"),goodCloseButton=goodMessagePopup.querySelector(".modal-closing-button"),goodContinueButton=goodMessagePopup.querySelector(".good-continue-button"),cart=document.querySelector(".cart");goodsList.onclick=function(e){var o=e.target.closest(".buying-button");e.preventDefault(),o&&goodsList.contains(o)&&(goodMessagePopup.classList.add("modal--show"),cart.classList.add("buying-active"))},goodCloseButton.onclick=function(e){e.preventDefault(),goodMessagePopup.classList.remove("modal--show")},goodContinueButton.onclick=function(e){e.preventDefault(),goodMessagePopup.classList.remove("modal--show")};let firstSlide=document.querySelector(".slide-1-wrapper"),secondSlide=document.querySelector(".slide-2-wrapper"),firstBackButton=firstSlide.querySelector(".slider-back"),secondNextButton=secondSlide.querySelector(".slider-next");firstBackButton.addEventListener("click",function(){secondSlide.classList.add("is-showing"),firstSlide.classList.remove("is-showing")}),secondNextButton.addEventListener("click",function(){secondSlide.classList.remove("is-showing"),firstSlide.classList.add("is-showing")});
